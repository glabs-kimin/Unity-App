<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>경기도 Unity MVP (v1.4)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        :root { --primary-blue: #0A2C4A; --accent-warm: #FFB836; --text-dark: #333333; --text-light: #777777; --bg-light: #f8f9fa; --white: #ffffff; --border-color: #e9ecef; }
        body { font-family: 'Noto Sans KR', sans-serif; margin: 0; background-color: #ccc; display: flex; justify-content: center; padding: 20px 0; }
        .phone-container { width: 375px; height: 812px; background-color: var(--white); box-shadow: 0 0 20px rgba(0,0,0,0.1); border-radius: 40px; overflow: hidden; border: 10px solid #111; display: flex; flex-direction: column; }
        .content-scroll { flex-grow: 1; overflow-y: auto; background-color: var(--bg-light); }
        .screen { padding: 20px; }
        h2, h3 { color: var(--primary-blue); margin-top: 0; }
        p { color: var(--text-dark); line-height: 1.6; }
        input { width: calc(100% - 22px); padding: 10px; margin-bottom: 10px; border: 1px solid var(--border-color); border-radius: 5px; font-size: 16px;}
        button { width: 100%; padding: 12px; border: none; background-color: var(--primary-blue); color: var(--white); border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 5px;}
        button:hover { opacity: 0.9; }
        #logout-button { background-color: #6c757d; }
        .bottom-nav { display: flex; justify-content: space-around; background-color: var(--white); border-top: 1px solid var(--border-color); padding: 10px 0; width: 100%; }
        .nav-btn { text-align: center; font-size: 12px; color: var(--text-light); cursor: pointer; }
        .nav-btn.active { color: var(--accent-warm); font-weight: 700; }
        .main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .main-header .logo { font-size: 20px; font-weight: 700; color: var(--primary-blue); }
        .hero p { font-size: 22px; font-weight: 500; margin: 0; }
        .quick-access { display: flex; justify-content: space-around; margin-bottom: 30px; }
        .qa-btn { background: var(--white); border: 1px solid var(--border-color); border-radius: 15px; padding: 10px; width: 90px; text-align: center; font-size: 14px; font-weight: 500; color: var(--primary-blue); cursor: pointer;}
        .recommendation-card { background: var(--white); border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 15px; overflow: hidden; }
        .recommendation-card img { width: 100%; height: 150px; object-fit: cover; }
        .recommendation-card .info { padding: 15px; }
        .recommendation-card h3 { margin-bottom: 5px; font-size: 16px; }
        .recommendation-card p { font-size: 14px; color: var(--text-light); margin: 0; }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="content-scroll">
            
            <div id="auth-screen" class="screen">
                <header class="main-header">
                    <div class="logo">경기도 Unity</div>
                </header>
                <h2>안녕하세요!<br>서비스 이용을 위해 로그인 해주세요.</h2>
                <div id="error-message" style="color: red; margin-bottom: 10px; min-height: 1.2em;"></div>
                <h3>이메일로 시작하기</h3>
                <input type="email" id="auth-email" placeholder="이메일">
                <input type="password" id="auth-password" placeholder="비밀번호 (6자리 이상)">
                <button id="login-button">로그인</button>
                <button id="signup-button" style="background-color: #17a2b8;">회원가입</button>
            </div>

            <div id="main-screen" class="screen" style="display:none;">
                <header class="main-header">
                    <div class="logo">경기도 Unity</div>
                    <button id="logout-button" style="width: auto;">로그아웃</button>
                </header>
                <main>
                    <section class="hero">
                        <p id="welcome-message"></p>
                    </section>
                    <hr style="border: 0; border-top: 1px solid var(--border-color); margin: 25px 0;">
                    <section class="quick-access">
                        <div class="qa-btn">프로그램 예약</div>
                        <div class="qa-btn">내 출입증</div>
                        <div class="qa-btn">커뮤니티</div>
                    </section>
                    <section class="recommendations">
                        <h2>오늘의 추천 프로그램</h2>
                        <div class="recommendation-card">
                            <img src="https://via.placeholder.com/335x150.png/0A2C4A/FFFFFF?text=Kids+Program" alt="Kids Program">
                            <div class="info"><h3>리틀 프로젝트 그룹</h3><p>사회성/문제해결 (37-48개월)</p></div>
                        </div>
                        <div class="recommendation-card">
                            <img src="https://via.placeholder.com/335x150.png/FFB836/0A2C4A?text=Senior+Program" alt="Senior Program">
                            <div class="info"><h3>스마트 근력 강화</h3><p>A.I.P. Journey (액티브 시기)</p></div>
                        </div>
                    </section>
                </main>
            </div>

        </div>
        <footer class="bottom-nav" style="display:none;">
            <div class="nav-btn active">홈</div>
            <div class="nav-btn">프로그램</div>
            <div class="nav-btn">내 예약</div>
            <div class="nav-btn">마이페이지</div>
        </footer>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBirQyhng653nT8u5BOL_rIqz3s5RMGXyo",
        authDomain: "unity-70a0d.firebaseapp.com",
        projectId: "unity-70a0d",
        storageBucket: "unity-70a0d.appspot.com",
        messagingSenderId: "875001915345",
        appId: "1:875001915345:web:67171ea942da13320962f0",
        measurementId: "G-82Y95QFB8R"
      };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      
      const authScreen = document.getElementById('auth-screen');
      const mainScreen = document.getElementById('main-screen');
      const bottomNav = document.querySelector('.bottom-nav');
      
      const emailInput = document.getElementById('auth-email');
      const passwordInput = document.getElementById('auth-password');
      const signupButton = document.getElementById('signup-button');
      const loginButton = document.getElementById('login-button');
      const logoutButton = document.getElementById('logout-button');
      
      const welcomeMessage = document.getElementById('welcome-message');
      const errorMessage = document.getElementById('error-message');

      auth.onAuthStateChanged(user => {
        if (user) {
          authScreen.style.display = 'none';
          mainScreen.style.display = 'block';
          bottomNav.style.display = 'flex';
          welcomeMessage.innerHTML = `${user.email.split('@')[0]} 님,<br>오늘도 활기찬 하루를 시작해볼까요?`;
        } else {
          authScreen.style.display = 'block';
          mainScreen.style.display = 'none';
          bottomNav.style.display = 'none';
        }
      });

      signupButton.addEventListener('click', () => {
        errorMessage.textContent = '';
        auth.createUserWithEmailAndPassword(emailInput.value, passwordInput.value)
          .catch(error => { errorMessage.textContent = error.message; });
      });

      loginButton.addEventListener('click', () => {
        errorMessage.textContent = '';
        auth.signInWithEmailAndPassword(emailInput.value, passwordInput.value)
          .catch(error => { errorMessage.textContent = error.message; });
      });

      logoutButton.addEventListener('click', () => {
        auth.signOut();
      });
    </script>
</body>
</html>